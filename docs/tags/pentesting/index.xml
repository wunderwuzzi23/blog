<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pentesting on Embrace The Red</title>
    <link>https://embracethered.com/blog/tags/pentesting/</link>
    <description>Recent content in Pentesting on Embrace The Red</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <copyright>(c) WUNDERWUZZI 2018-2026</copyright>
    <lastBuildDate>Sun, 18 Sep 2022 08:00:01 -0700</lastBuildDate>
    <atom:link href="https://embracethered.com/blog/tags/pentesting/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>gospray - Simple LDAP bind-based password spray tool</title>
      <link>https://embracethered.com/blog/posts/2022/gospray-active-directory-ldap-password-spraying/</link>
      <pubDate>Sun, 18 Sep 2022 08:00:01 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2022/gospray-active-directory-ldap-password-spraying/</guid>
      <description>&lt;p&gt;On a network and need credentials?  Try password spraying the domain controller directly.&lt;/p&gt;&#xA;&lt;p&gt;A few years ago, I wrote this password spray tool called &lt;code&gt;gospray&lt;/code&gt; that was used succesfully in a couple of engagements since. It does an LDAP bind directly against the domain controller to validate credentials. This doesn&amp;rsquo;t require an SMB server (or other servers) as target. So, it&amp;rsquo;s pretty quiet and number of concurrent Go routines is configurable. :)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Google&#39;s FLoC - Privacy Red Teaming Opportunities</title>
      <link>https://embracethered.com/blog/posts/2021/red-teaming-floc-chrome-cohort/</link>
      <pubDate>Sat, 01 May 2021 10:10:08 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2021/red-teaming-floc-chrome-cohort/</guid>
      <description>&lt;p&gt;Recently Google&amp;rsquo;s FLoC proposal has been making the rounds in the news. FLoC stands for &amp;ldquo;federated learning of cohorts&amp;rdquo; and is Google&amp;rsquo;s vision how to perform user profiling in Chrome going forward.&lt;/p&gt;&#xA;&lt;p&gt;Currently user tracking and profiling happens (mostly) via cookies, but many browser vendors have been supportive of protection of their users and started blocking third party and tracking cookies - or at least offer features in their browser to enable blocking.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Spoofing credential dialogs on macOS, Linux and Windows</title>
      <link>https://embracethered.com/blog/posts/2021/spoofing-credential-dialogs/</link>
      <pubDate>Sun, 18 Apr 2021 20:00:00 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2021/spoofing-credential-dialogs/</guid>
      <description>&lt;p&gt;A nifty way for adversaries to acquire passwords during post-exploitation is to spoof credential dialogs and perform a local phishing attack. This means tricking a user on a compromised computer to enter their password.&lt;/p&gt;&#xA;&lt;p&gt;Unfortunately, users are conditioned to enter their credentials frequently and therefore don&amp;rsquo;t question random passwords prompts too much.&lt;/p&gt;&#xA;&lt;h2 id=&#34;long-long-time-ago-but-nothing-has-changed&#34;&gt;Long, long time ago&amp;hellip; but nothing has changed&lt;/h2&gt;&#xA;&lt;p&gt;The idea to spoof a credential dialog is one of the most simple ideas one might come up with.&lt;/p&gt;</description>
    </item>
    <item>
      <title>What does an offensive security team actually do?</title>
      <link>https://embracethered.com/blog/posts/2020/red-team-offensive-security-service-offerings/</link>
      <pubDate>Mon, 19 Oct 2020 20:00:00 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2020/red-team-offensive-security-service-offerings/</guid>
      <description>&lt;p&gt;There is a lot of discussion around terms such as red team, attack team, pentest, adversarial engineering or offensive security team and similar ones.&lt;/p&gt;&#xA;&lt;p&gt;I typically stay away from the (sometimes passionate) discussions that ensue whenever this topic comes up.&lt;/p&gt;&#xA;&lt;p&gt;Personally, I think a good strategy is to define programs and teams who operate in this space by &lt;strong&gt;what services the team (or teams) provide(s) to the organization&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;p&gt;The business groups, blue team, developers, engineers, employees and clients are the customers.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Race conditions when applying ACLs</title>
      <link>https://embracethered.com/blog/posts/2020/applying-acls-and-race-conditions/</link>
      <pubDate>Mon, 24 Aug 2020 12:00:33 -0800</pubDate>
      <guid>https://embracethered.com/blog/posts/2020/applying-acls-and-race-conditions/</guid>
      <description>&lt;p&gt;Today I&amp;rsquo;m gonna talk about a class of application security issues I ran across a few times over the years. In particular, let&amp;rsquo;s discuss race conditions when it comes to files with sensitive content and permissions.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Race conditions&lt;/strong&gt; can allow an adversary to gain access to sensitive information on machines. Assume a system creates a file that contains sensitive information and &lt;em&gt;afterwards&lt;/em&gt; applies permissions to lockdown that file.&lt;/p&gt;&#xA;&lt;h2 id=&#34;understanding-the-race-condition&#34;&gt;Understanding the race condition&lt;/h2&gt;&#xA;&lt;p&gt;Let&amp;rsquo;s look at a practical example seen in the wild a few times. Imagine code like this:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Motivated Intruder - Red Teaming for Privacy!</title>
      <link>https://embracethered.com/blog/posts/2020/red-teaming-for-privacy/</link>
      <pubDate>Fri, 24 Jul 2020 10:00:16 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2020/red-teaming-for-privacy/</guid>
      <description>&lt;p&gt;In this post I will discuss some testing techniques for internal red teams to identify privacy issues in services and infrastructure, most importantly a simple three step approach that might uncover interesting results.&lt;/p&gt;&#xA;&lt;h2 id=&#34;background-story&#34;&gt;Background story&lt;/h2&gt;&#xA;&lt;p&gt;First, let me share a story from the past. When I did my master&amp;rsquo;s I built an app that performs end to end encryption of Facebook posts. This means that only the intended audience for which your posts were encrypted for can decipher the posts.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cybersecurity Attacks - Red Team Strategies has been released.</title>
      <link>https://embracethered.com/blog/posts/2020/book-cybersecurity-attacks-red-team-strategies-released/</link>
      <pubDate>Thu, 02 Apr 2020 00:01:09 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/2020/book-cybersecurity-attacks-red-team-strategies-released/</guid>
      <description>&lt;h3 id=&#34;announcement&#34;&gt;Announcement&lt;/h3&gt;&#xA;&lt;p&gt;After countless evenings and weekends in coffee shops, and multiple vacations with the laptop, I&amp;rsquo;m excited to announce that my first book has been published. It took 18 months from writing the first words (at Victrola Coffee Roasters on Capitol Hill by the way) to finishing this project just a few days ago.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.amazon.com/gp/product/1838828869/ref=as_li_tl?ie=UTF8&amp;amp;tag=wunderwuzzi-20&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;linkCode=as2&amp;amp;creativeASIN=1838828869&amp;amp;linkId=07bfd6b729fbc2b2904160e0e16c337f&#34;&gt;&lt;img src=&#34;https://embracethered.com/blog/images/red_team_strategies_f.png&#34; alt=&#34;Cybersecurity Attacks - Red Team Strategies&#34;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Looking back its amazing how this all came together. The first intial draft had 100 pages, and in the end it ended up being 524 pages.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Book: Cybersecurity Attacks - Red Team Strategies</title>
      <link>https://embracethered.com/blog/posts/book-cybersecurity-attacks-red-team-strategies/</link>
      <pubDate>Mon, 02 Dec 2019 17:09:57 -0800</pubDate>
      <guid>https://embracethered.com/blog/posts/book-cybersecurity-attacks-red-team-strategies/</guid>
      <description>&lt;p&gt;Excited to announce the book that I have been working on:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.amazon.com/gp/product/1838828869/ref=as_li_tl?ie=UTF8&amp;amp;tag=wunderwuzzi-20&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;linkCode=as2&amp;amp;creativeASIN=1838828869&amp;amp;linkId=07bfd6b729fbc2b2904160e0e16c337f&#34;&gt;Cybersecurity Attacks - Red Team Strategies&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Learn about the foundational tactics, techniques and procedures to elevate your red teaming skills and enhance the overall security posture of your organization by leveraging homefield advantage.&#xA;&lt;a href=&#34;https://www.amazon.com/gp/product/1838828869/ref=as_li_tl?ie=UTF8&amp;amp;tag=wunderwuzzi-20&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;linkCode=as2&amp;amp;creativeASIN=1838828869&amp;amp;linkId=07bfd6b729fbc2b2904160e0e16c337f&#34;&gt;&lt;img src=&#34;https://embracethered.com/blog/images/9781838828868.jpeg&#34; alt=&#34;Cybersecurity Attacks - Red Team Strategies&#34;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;contents-and-background&#34;&gt;Contents and Background&lt;/h3&gt;&#xA;&lt;p&gt;Red Team Strategies covers aspects that are not as commonly discussed in literature, including chapters around building and managing a pen test team. However, there is still plenty of technical content included as well. It is not a typical pen test book that focuses on common tools, or walks the reader through the various stages of a pen test.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Coinbase under attack and cookie theft</title>
      <link>https://embracethered.com/blog/posts/coinbase-hack-cookie-theft-pass/</link>
      <pubDate>Sun, 01 Sep 2019 13:25:07 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/coinbase-hack-cookie-theft-pass/</guid>
      <description>&lt;p&gt;Recently Coinbase published a well written blog post on how they were under attack. The adversaries exploite Firefox 0-days. &lt;a href=&#34;https://blog.coinbase.com/responding-to-firefox-0-days-in-the-wild-d9c85a57f15b&#34;&gt;Details can be found here.&lt;/a&gt;  One intersting aspect is the following:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&amp;ldquo;We have also observed the attackers specifically target cloud services, e.g. gmail and others, via browser session token theft via direct access to browser datastores. This activity also offers the opportunity for behavior-based detection, as relatively few processes should be directly accessing those files.&amp;rdquo;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cybersecurity - Homefield Advantage</title>
      <link>https://embracethered.com/blog/posts/homefield-advantage/</link>
      <pubDate>Sat, 24 Aug 2019 18:46:06 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/homefield-advantage/</guid>
      <description>&lt;h3 id=&#34;no-one-should-beat-your-security-team-on-the-homefield&#34;&gt;No one should beat your security team on the homefield!&lt;/h3&gt;&#xA;&lt;p&gt;For several years I have been using the term Homefield Advantage in the context of running a security program, especially in regards to certain aspects of red teaming. Homefield Advantage describes well what a mature security program has to realize and leverage.&lt;/p&gt;&#xA;&lt;p&gt;Wikipedia describes &amp;ldquo;home advantage&amp;rdquo; in team sports and highlights some of the benefits:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&amp;ldquo;This benefit has been attributed to psychological effects supporting fans have on the competitors or referees; to psychological or physiological advantages of playing near home in familiar situations; to the disadvantages away teams suffer from changing time zones or climates, or from the rigors of travel; and, in some sports, to specific rules that favor the home team directly or indirectly.&amp;rdquo; (Wikipedia, 2019)&lt;/p&gt;</description>
    </item>
    <item>
      <title>BashSpray - Simple Password Spray Bash Script</title>
      <link>https://embracethered.com/blog/posts/bash-spray-password/</link>
      <pubDate>Wed, 03 Jul 2019 21:58:01 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/bash-spray-password/</guid>
      <description>&lt;p&gt;One thing every red team should attempt early on and regularly is to perform some password spray testing across their organization to identify and help remediate usage of weak passwords.&lt;/p&gt;&#xA;&lt;p&gt;In the past I have done this on Windows a lot, but now I built a simple version for it for Bash to run it also from a Mac.&lt;/p&gt;&#xA;&lt;p&gt;Check it out: &lt;a href=&#34;https://github.com/wunderwuzzi23/BashSpray&#34;&gt;Bash Spray&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Ideally, a script like bashspray.sh is integrated into your response pipelines, and SOC, Blue Team as well as account owner get notified - so they change their password right away, and any SOC investigation can be performed if necessary.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Active Directory and MacOS</title>
      <link>https://embracethered.com/blog/posts/active-directory-and-macos/</link>
      <pubDate>Thu, 20 Jun 2019 22:00:16 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/active-directory-and-macos/</guid>
      <description>&lt;h2 id=&#34;interacting-with-active-directory-on-the-mac&#34;&gt;Interacting with Active Directory on the Mac&lt;/h2&gt;&#xA;&lt;p&gt;Did you ever have to interact with Active Directory on a MAC?&lt;/p&gt;&#xA;&lt;p&gt;If yes, this post might be interesting for you. I am pretty new to the Mac and basic things I know how to do on Windows need some research to figure out. This time around I explore Active Directory/LDAP Server interactions.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;First, there is the &lt;em&gt;Directory Utility&lt;/em&gt; on MacOS which can be quite useful.&lt;/li&gt;&#xA;&lt;li&gt;Second, there is Apache&amp;rsquo;s - &lt;em&gt;Directory Studio&lt;/em&gt; - which is pretty amazing and feature rich.&lt;/li&gt;&#xA;&lt;li&gt;Third, you might want to write your own tools or scripts.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;There are ldap commands that allow you to do most tasks in automated fashion.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Lyrebird - Hack the hacker (and take a picture)</title>
      <link>https://embracethered.com/blog/posts/lyrebird/</link>
      <pubDate>Tue, 21 May 2019 21:48:29 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/lyrebird/</guid>
      <description>&lt;p&gt;The idea for Lyrebird came from observing that sometimes when someone forgets lock their workstation, someone else might mess with their computer. Since I wanted to learn more on how to program a webcam and take pictures - I figured why not create a little tool that takes a screenshot and uses the webcam to take pictures of anyone that interacts with the computer while I&amp;rsquo;m gone.&lt;/p&gt;&#xA;&lt;p&gt;The way this work is simple, start Lyrebird. It will take a screenshot of the current desktop and then enter its observation mode.&lt;/p&gt;</description>
    </item>
    <item>
      <title>KoiPhish - The Beautiful Phishing Proxy</title>
      <link>https://embracethered.com/blog/posts/koiphish/</link>
      <pubDate>Thu, 10 Jan 2019 21:40:59 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/koiphish/</guid>
      <description>&lt;p&gt;&lt;strong&gt;KoiPhish is a simple yet beautiful relay proxy idea.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;The idea for this little project goes back many years. Since I started learning Golang I figured it would be good exercise to finally go ahead an implement it. So, last December during the 35C3 (which is always inspiring congress) I wrote it up.&lt;/p&gt;&#xA;&lt;p&gt;It relays requests a client makes to the KoiPish to the actual target and responses are sent back to the client. On the way in and out common links are overwritten in order to not break the user experience and functionality.&lt;/p&gt;</description>
    </item>
    <item>
      <title>McPivot and useful LLDB commands</title>
      <link>https://embracethered.com/blog/posts/lldbbasics/</link>
      <pubDate>Sat, 05 Jan 2019 21:34:51 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/lldbbasics/</guid>
      <description>&lt;p&gt;Just a list of useful notes when dealing with Macs. I&amp;rsquo;m pretty new to Macs and there might be other, better solutions to the challenges I had to sovle but these worked for me and I&amp;rsquo;m learning. :)&lt;/p&gt;&#xA;&lt;h2 id=&#34;pivoting-between-accounts-and-keychain-issues&#34;&gt;Pivoting between accounts and keychain issues&lt;/h2&gt;&#xA;&lt;p&gt;After pivoting on a target host and elevating to root it seems not possible to gain access to other keychains easily. It requires to know the password of the other account still. Just running&lt;/p&gt;</description>
    </item>
    <item>
      <title>Pass the Cookie and Pivot to the Clouds</title>
      <link>https://embracethered.com/blog/posts/passthecookie/</link>
      <pubDate>Sun, 16 Dec 2018 12:00:00 -0700</pubDate>
      <guid>https://embracethered.com/blog/posts/passthecookie/</guid>
      <description>&lt;h2 id=&#34;web-applications-and-services-use-cookies-to-authenticate-sessions-and-users&#34;&gt;Web Applications and Services use cookies to authenticate sessions and users.&lt;/h2&gt;&#xA;&lt;p&gt;An adversary can pivot from a compromised host to Web Applications and Internet Services by stealing authentication cookies from browsers and related processes. At the same time this technique bypasses most multi-factor authentication protocols.&lt;/p&gt;&#xA;&lt;p&gt;The reason for this is that the final authentication token that the attacker steals is issued after all factors have been validated. Many users persist cookies that are valid for an extended period of time, even if the web application is not actively used. Cookies can be found on disk and also in process memory. Additionally other applications on the targets machine might store sensitive authentication tokens in memory (e.g. apps which authenticate to cloud services). This pivoting technique can be extended to bearer tokens, JWT and the likes.&#xA;Pass the Cookie is a post-exploitation technique to perform &lt;a href=&#34;https://www.owasp.org/index.php/Session_hijacking_attack&#34;&gt;session hijacking&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
