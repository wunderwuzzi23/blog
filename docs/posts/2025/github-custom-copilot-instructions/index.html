<!DOCTYPE html>
<html lang="en-us">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta name="description" content="GitHub Copilot has the capability to be augmented with custom instructions coming from the current repo, via the .github/copilot-instructions.md file.
Pillar …" />
  <link rel="canonical" href="https://embracethered.com/blog/posts/2025/github-custom-copilot-instructions/" />
  <meta property="og:title" content=" GitHub Copilot Custom Instructions and Risks &middot;  Embrace The Red" />
  <meta property="og:description" content="GitHub Copilot has the capability to be augmented with custom instructions coming from the current repo, via the .github/copilot-instructions.md file.
Pillar …" />
  <meta property="og:site_name" content="Embrace The Red" />
  <meta property="og:url" content="https://embracethered.com/blog/posts/2025/github-custom-copilot-instructions/" />
  <meta property="og:type" content="article" />
  <meta property="og:article:published_time" content="2025-04-06T20:11:43-07:00" />
  <meta property="og:article:tag" content="aiml" />
  <meta property="og:article:tag" content="machine learning" />
  <meta property="og:article:tag" content="threats" />
  <meta property="og:article:tag" content="llm" />

  <title>
     GitHub Copilot Custom Instructions and Risks &middot;  Embrace The Red
  </title>

  <link rel="stylesheet" href="https://embracethered.com/blog/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://embracethered.com/blog/css/main.css" />
  <link rel="stylesheet" href="https://embracethered.com/blog/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://embracethered.com/blog/css/github.css" />
  
  <link rel="stylesheet" href="https://embracethered.com/blog/fonts/cachedfonts.css" type="text/css">
  <link rel="shortcut icon" type="image/x-icon" href="https://embracethered.com/blog/images/favicon.ico" />
  <link rel="apple-touch-icon" type="image/x-icon" href="https://embracethered.com/blog/images/favicon.ico" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@wunderwuzzi23">
<meta name="twitter:title" content="GitHub Custom Copilot Instructions and Risks">
<meta name="twitter:description" content="Custom Rule Files in Code Editors Can Be Abused By Adversaries ">
<meta name="twitter:image" content="https://embracethered.com/blog/images/2025/github-copilot-instructions-tn.png">

<meta name="twitter:creator" content="@wunderwuzzi23">



  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "\"GitHub Copilot Custom Instructions and Risks\"",
    "description": "\"GitHub Copilot has the capability to be augmented with custom instructions coming from the current repo, via the .github/copilot-instructions.md file.\\nPillar …\"",
    "author": {
      "@type": "Person",
      "name": "wunderwuzzi",
      "url": "https://x.com/wunderwuzzi23"
    },
    "publisher": {
      "@type": "Organization",
      "name": "\"Embrace The Red\"",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/embracethered.com\/blog\/images/favicon.ico"
      }
    },
    "url": "\"https://embracethered.com/blog/posts/2025/github-custom-copilot-instructions/\"",
    "datePublished": "\"2025-04-06T20:11:43-07:00\"","dateModified": "\"2025-04-06T20:11:43-07:00\"",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "\"https://embracethered.com/blog/posts/2025/github-custom-copilot-instructions/\""
    }
  }
  </script>

</head>
<body>
    <header class="global-header"  style="background-image:url( /blog/images/bg.png )">
    <section class="header-text">
      <h1><a href="https://embracethered.com/blog/">Embrace The Red</a></h1>
      
      <div class="tag-line" style="min-width:fit-content; font-weight: 400;">
        wunderwuzzi&#39;s blog
        <br><div style="color: greenyellow; font-weight:400;">learn the hacks, stop the attacks.</div> 
      </div>
      
      <div class="sns-links hidden-print">
  
  <a href="mailto:security@wunderwuzzi.net">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://twitter.com/wunderwuzzi23" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  
  <a href="https://github.com/wunderwuzzi23" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
  
  <a href="https://youtube.com/@embracethered" target="_blank">
    <i class="fa fa-youtube"></i>
  </a>
  
  
  
  <a href="/blog/index.xml" target="_blank">
    <i class="fa fa-rss"></i>
  </a>
</div>

      
      <a href="https://embracethered.com/blog/" class="btn-header btn-back hidden-xs">
        <i class="fa fa-angle-left" aria-hidden="true"></i>
        &nbsp;Home
      </a>
      
    
      <a href="/blog/index.xml" class="btn-header btn-subscribe hidden-xs">
        <i class="fa fa-rss" aria-hidden="true"></i>
        &nbsp;Subscribe
      </a>
    </section>
  </header>
  <main class="container">


<article>
  <header>
    <h1 class="text-primary">GitHub Copilot Custom Instructions and Risks</h1>
    <div class="post-meta clearfix">
    
      <div class="post-date pull-left">
        Posted on
        <time datetime="2025-04-06T20:11:43-07:00">
          Apr 6, 2025
        </time>
      </div>
    
      <div class="pull-right">
        
        <span class="post-tag small"><a href="https://embracethered.com/blog//tags/aiml">#aiml</a></span>
        
        <span class="post-tag small"><a href="https://embracethered.com/blog//tags/machine-learning">#machine learning</a></span>
        
        <span class="post-tag small"><a href="https://embracethered.com/blog//tags/threats">#threats</a></span>
        
        <span class="post-tag small"><a href="https://embracethered.com/blog//tags/llm">#llm</a></span>
        
      </div>
    </div>
  </header>
  <section>
    <p>GitHub Copilot has the capability to be augmented with <a href="https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot">custom instructions</a> coming from the current repo, via the <code>.github/copilot-instructions.md</code> file.</p>
<p><a href="/blog/images/2025/github-copilot-instructions-tn.png"><img src="/blog/images/2025/github-copilot-instructions-tn.png" alt="copilot instructions"></a></p>
<p><a href="https://www.pillar.security/blog/new-vulnerability-in-github-copilot-and-cursor-how-hackers-can-weaponize-code-agents">Pillar Security</a> recently highlighted the risks associated with rules files. Their post discusses custom <code>Cursor</code> rules in <code>./cursor/rules</code> ending in <code>.mdc</code>.</p>
<p>If you watch the demos, you&rsquo;ll notice that they also have a GitHub Copilot demo which uses the GitHub specific <code>copilot-instructions.md</code> file.</p>
<p><strong>Update: May 1, 2025</strong>
GitHub made a product change and is now highlighting invisible Unicode characters in the Web UI.  In <a href="https://github.blog/changelog/2025-05-01-github-now-provides-a-warning-about-hidden-unicode-text/">their announcement</a> GitHub is referencing the Pillar Security post and also my post about ASCII Smuggling. Very cool!</p>
<h2 id="github-copilot-custom-instructions-file">GitHub Copilot Custom Instructions File</h2>
<p>I’ve also been experimenting with the <code>.github/copilot-instructions.md</code> file a bit recently.</p>
<p>Here’s a demonstration I’ve been using:
<a href="/blog/images/2025/copilot-custom-instr.png"><img src="/blog/images/2025/copilot-custom-instr.png" alt="Github Instructions Contents"></a></p>
<p>Now, if you ask Copilot to explain some code it adds these custom instructions to the prompt context, leading to the following inference result:
<a href="/blog/images/2025/copilot-custom-instructions.png"><img src="/blog/images/2025/copilot-custom-instructions.png" alt="Github Instructions"></a></p>
<p>Luckily, GitHub <a href="/blog/posts/2024/github-copilot-chat-prompt-injection-data-exfiltration/">mitigated</a> the common 0-click image rendering data leakage issue last year, and for hyperlinks there is a confirmation dialog when clicking, unless the destination domain is the trusted sites list of VS Code.</p>
<p>This screenshot shows the mitigation for navigating to random phishing sites in action:
<a href="/blog/images/2025/copilot-custom-instructions-phishing-mitigation.png"><img src="/blog/images/2025/copilot-custom-instructions-phishing-mitigation.png" alt="Github Instructions - Default Hyperlink Mitigation"></a></p>
<p>Developers might still be tricked, and there are other attack avenues&hellip; like adding backdoor code!</p>
<h2 id="backdooring-instructions">Backdooring Instructions</h2>
<p>The most significant issue is that a single sneaky line in the instructions file can add backdoor code.</p>
<p>Here is a demo on how this works in <code>Go</code>, check this out:</p>
<p><a href="/blog/images/2025/copilot-custom-instr-add-code.png"><img src="/blog/images/2025/copilot-custom-instr-add-code.png" alt="Github Instructions - Add Code"></a></p>
<p>So, Greetings from <a href="https://de.wikipedia.org/wiki/XZ_Utils">Jia Tan</a>, I guess.</p>
<p><a href="https://www.pillar.security/blog/new-vulnerability-in-github-copilot-and-cursor-how-hackers-can-weaponize-code-agents">Pillar Security</a> does a great job in highlighting additional threats and considerations, such as hidden Unicode characters.</p>
<p>It&rsquo;s important to remain aware of what information is added to the prompt context, and the introduction of additional features by vendors can catch users and developers by surprise. Stay alert for any modifications to your custom instruction file.</p>
<p>And remember that <a href="/blog/posts/2024/claude-hidden-prompt-injection-ascii-smuggling/">Anthropic never mitigated usage of hidden Unicode Tags</a>, and Claude is interpreting such hidden characters as instructions.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://www.pillar.security/blog/new-vulnerability-in-github-copilot-and-cursor-how-hackers-can-weaponize-code-agents">Pillar Security Blog Post - Rules File Backdoor</a></li>
<li><a href="https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot">Adding repository custom instructions for GitHub Copilot</a></li>
<li><a href="https://de.wikipedia.org/wiki/XZ_Utils">XZ Utils Backdoor Jia Tan</a></li>
</ul>

  </section>
  <footer>
    
    
    
    <footer></footer><hr/>
    
    <ul class="pager">
      
      <li class="next"><a href="https://embracethered.com/blog/posts/2025/model-context-protocol-security-risks-and-exploits/">Newer <span aria-hidden="true">&rarr;</span></a></li>
      
      
      <li class="author-contact">
        <a href="mailto:security@wunderwuzzi.net">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          &nbsp;Contact me
        </a>
     </li>

      
      
      <li class="previous"><a href="https://embracethered.com/blog/posts/2025/sneaky-bits-and-ascii-smuggler/"><span aria-hidden="true">&larr;</span> Older</a></li>
      
    </ul>
  </footer>
</article>
</main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
     
     (c) WUNDERWUZZI 2018-2026
     <div class="sns-links hidden-print">
  
  <a href="mailto:security@wunderwuzzi.net">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://twitter.com/wunderwuzzi23" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  
  <a href="https://github.com/wunderwuzzi23" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
  
  <a href="https://youtube.com/@embracethered" target="_blank">
    <i class="fa fa-youtube"></i>
  </a>
  
  
  
  <a href="/blog/index.xml" target="_blank">
    <i class="fa fa-rss"></i>
  </a>
</div>
 
     <div style="font-size:small;font-style: italic;color:crimson">
    Disclaimer: Penetration testing requires authorization from proper stakeholders. Information on this blog is provided for research and educational purposes to advance understanding of attacks and countermeasures to help secure the Internet. 
    </div>
    </div>
</footer>
  <script src="https://embracethered.com/blog/js/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  



<script type="text/javascript">
  var _paq = window._paq || [];
  _paq.push(["disableCookies"]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//wuzzi.net/anamato/inc/";
    _paq.push(['setTrackerUrl', u+'rts.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'rts.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<img src="https://wuzzi.net/anamato/inc/rts.php?idsite=1&amp;rec=1" style="border:0;" alt="" />
  
</body>
</html>

